#. `eZ Publish Platform 5.<next> <index.html>`__
#. `eZ Publish Platform
   Documentation <eZ-Publish-Platform-Documentation_1114149.html>`__
#. `Development & Administration Guides <6291674.html>`__
#. `Reference <Reference_10158191.html>`__
#. `FieldTypes <FieldTypes_10158198.html>`__

eZ Publish Platform 5.<next> : The DateAndTime FieldType
========================================================

Added by petar.spanja@ez.no , edited by bertrand.dunogier@ez.no on Jul
16, 2013

DateAndTime
~~~~~~~~~~~

This field type represents a full date including time information.

Name

Internal name

Expected input type

``DateAndTime``

``ezdatetime``

``mixed``

Description
^^^^^^^^^^^

This FieldType makes it possible to store and retrieve a full date
including time information.

Input expectations
^^^^^^^^^^^^^^^^^^

If input value is of type ``string`` or ``integer``, it will be passed
directly to the `PHP's built-in ``\DateTime`` class
constructor <http://www.php.net/manual/en/datetime.construct.php>`__,
therefore the same input format expectations apply.

It is also possible to directly pass an instance of ``\DateTime``.

Type

Example

``string``

``"2012-08-28 12:20 Europe/Berlin"``

::

    integer

::

    1346149200

::

    \DateTime

::

    new \DateTime()

Validation
^^^^^^^^^^

This FieldType does not use any special validation of the input value.

Settings
^^^^^^^^

The field definition of this FieldType can be configured with several
options:

Name

Type

Default value

Description

``useSeconds``

``boolean``

``false``

Used to control displaying of seconds in the output.

::

    defaultType

::

    Type::DEFAULT_EMPTYType::DEFAULT_CURRENT_DATEType::DEFAULT_CURRENT_DATE_ADJUSTED

::

    Type::DEFAULT_EMPTY

The constant used here defines default input value when using
administration interface.

::

    dateInterval

::

    null|\DateInterval

::

    null

This setting complements ``defaultType`` setting and can be used only
when latter is set to ``Type::DEFAULT_CURRENT_DATE_ADJUSTED``.

In that case the default input value when using administration interface
will be adjusted by the given ``\DateInterval``.

**DateAndTime FieldType example settings**

.. code:: theme:

    use eZ\Publish\Core\FieldType\DateAndTime\Type;

    $settings = array(
        "useSeconds" => false,
        "defaultType" => Type::DEFAULT_EMPTY,
        "dateInterval" => null
    );

Value object
^^^^^^^^^^^^

Properties
          

The Value class of this field type contains the following properties:

Property

Type

Description

``$value``

``\DateTime``

The date and time value as an instance of ``\DateTime``.

String representation
                     

String representation of the date value will generate the date string in
the format "D Y-d-m H:i:s" as accepted by `PHP's built-in ``date()``
function <http://www.php.net/manual/en/function.date.php>`__.

Example: Wed 2013-22-05 12:19:18

Constructor
           

The constructor for this value object will initialize a new Value object
with the value provided. It accepts an instance of PHP's built-in
``\DateTime`` class.

 

Document generated by Confluence on Feb 12, 2014 16:43
