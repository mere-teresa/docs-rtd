

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>eZ Publish Platform 5.&lt;next&gt; : The Page FieldType &mdash; Doc eZ Publish 2014 1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Doc eZ Publish 2014 1.0 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Doc eZ Publish 2014 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <ol class="arabic simple">
<li><a class="reference external" href="index.html">eZ Publish Platform 5.&lt;next&gt;</a></li>
<li><a class="reference external" href="eZ-Publish-Platform-Documentation_1114149.html">eZ Publish Platform
Documentation</a></li>
<li><a class="reference external" href="6291674.html">Development &amp; Administration Guides</a></li>
<li><a class="reference external" href="Reference_10158191.html">Reference</a></li>
<li><a class="reference external" href="FieldTypes_10158198.html">FieldTypes</a></li>
</ol>
<div class="section" id="ez-publish-platform-5-next-the-page-fieldtype">
<h1>eZ Publish Platform 5.&lt;next&gt; : The Page FieldType<a class="headerlink" href="#ez-publish-platform-5-next-the-page-fieldtype" title="Permalink to this headline">¶</a></h1>
<p>Added by <a class="reference external" href="mailto:jerome&#46;vieilledent&#37;&#52;&#48;ez&#46;no">jerome<span>&#46;</span>vieilledent<span>&#64;</span>ez<span>&#46;</span>no</a> , edited by <a class="reference external" href="mailto:andre&#46;romcke&#37;&#52;&#48;ez&#46;no">andre<span>&#46;</span>romcke<span>&#64;</span>ez<span>&#46;</span>no</a> on Jan
26, 2014</p>
<ul class="simple">
<li><a class="reference external" href="#ThePageFieldType-Description">Description</a></li>
<li><a class="reference external" href="#ThePageFieldType-Configuration">Configuration</a><ul>
<li><a class="reference external" href="#ThePageFieldType-Definingazonelayout">Defining a zone layout</a></li>
<li><a class="reference external" href="#ThePageFieldType-Availableblocks">Available blocks</a></li>
<li><a class="reference external" href="#ThePageFieldType-Blocktemplateselection">Block template
selection</a><ul>
<li><a class="reference external" href="#ThePageFieldType-Availablematchers">Available matchers</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference external" href="#ThePageFieldType-DisplayingthePagecontent">Displaying the Page
content</a><ul>
<li><a class="reference external" href="#ThePageFieldType-Variablespassedtothelayouttemplate">Variables passed to the layout
template</a></li>
</ul>
</li>
<li><a class="reference external" href="#ThePageFieldType-Renderingblocks">Rendering blocks</a><ul>
<li><a class="reference external" href="#ThePageFieldType-Usingez_page%3AviewBlock">Using&nbsp;ez_page:viewBlock</a><ul>
<li><a class="reference external" href="#ThePageFieldType-Availablearguments">Available arguments</a></li>
<li><a class="reference external" href="#ThePageFieldType-Variablesexposedtotheblocktemplate">Variables exposed to the block
template</a></li>
</ul>
</li>
<li><a class="reference external" href="#ThePageFieldType-RenderingBlockitems">Rendering Block items</a></li>
</ul>
</li>
<li><a class="reference external" href="#ThePageFieldType-ThePageServiceobject">The PageService object</a><ul>
<li><a class="reference external" href="#ThePageFieldType-Mainmethods">Main methods</a></li>
</ul>
</li>
<li><a class="reference external" href="#ThePageFieldType-ExampleExample">Example</a></li>
</ul>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>With the Page FieldType, in legacy part of &#8220;ezflow&#8221; extension, editors
can define a&nbsp;<strong>layout</strong>&nbsp;with&nbsp;<strong>multiple zones</strong>&nbsp;within a single front-
or landing-page.</p>
<p>Within each zone, editors create&nbsp;<strong>blocks</strong>&nbsp;that contain particular
content categories. Specific content can be added to these blocks, they
are called&nbsp;<strong>block items</strong>.</p>
<p>This is particularly useful for managing homepages/landing pages.</p>
<p>Icon</p>
<div class="line-block">
<div class="line">The Page FieldType is currently <strong>read-only</strong> with the Public API.</div>
<div class="line">It&#8217;s however still possible to edit content with it through the admin</div>
</div>
<p>interface (which runs through the legacy stack).</p>
<p>Name</p>
<p>Internal name</p>
<p>Expected input</p>
<p>Output</p>
<p><tt class="docutils literal"><span class="pre">Page</span></tt></p>
<p><tt class="docutils literal"><span class="pre">ezpage</span></tt></p>
<p><tt class="docutils literal"><span class="pre">N/A</span></tt></p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a>eZPublishCoreFieldTypePagePartsPage ``</p>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>Warning</p>
<p>Icon</p>
<p>You still need to define your available layouts and blocks in the legacy
part to get them available in the admin interface. Please refer to <a class="reference external" href="http://doc.ez.no/Extensions/eZ-Publish-extensions/eZ-Flow/eZ-Flow-2.5/Configuration/Configuring-the-eZ-Flow-block-system">eZ
Publish legacy
documentation</a>
to learn how to do so.</p>
<div class="section" id="defining-a-zone-layout">
<h3>Defining a zone layout<a class="headerlink" href="#defining-a-zone-layout" title="Permalink to this headline">¶</a></h3>
<p>A layout is a combination of zones that are placed on a page. The
placement of the zones is defined in a template that is specified as
part of the layout configuration. You can define as many layouts as you
need.</p>
<p>You can define a new layout and enable it in your main YAML
configuration:</p>
<p><strong>ezpublish.yml</strong></p>
<p>Then, when rendering a Page FieldType
using&nbsp;<tt class="docutils literal"><span class="pre">myLayoutIdentifier</span></tt>,&nbsp;<a href="#id3"><span class="problematic" id="id4">``</span></a>Resources/views/page/zonelayouts/my_template.html.twig``&nbsp;from
AcmeDemoBundle will be used (see&nbsp;<a class="reference external" href="http://symfony.com/doc/master/book/controller.html#rendering-templates">how to use template identifiers in
Symfony
documentation</a>).</p>
<p>Tip</p>
<p>Icon</p>
<p>You can specify a legacy template in your layout definition.</p>
<p>However, doing so will defer block display to the legacy templates as
well.</p>
</div>
<div class="section" id="available-blocks">
<h3>Available blocks<a class="headerlink" href="#available-blocks" title="Permalink to this headline">¶</a></h3>
<p>The blocks need to be defined and enabled in the YAML configuration as
well:</p>
<p><strong>ezpublish.yml</strong></p>
<p>Tip</p>
<p>Icon</p>
<p>To avoid issues and since the Page field are only in read only mode in
eZ Publish 5.1, it is recommended to synchronize the block configuration
between the legacy stack and the new stack.</p>
</div>
<div class="section" id="block-template-selection">
<h3>Block template selection<a class="headerlink" href="#block-template-selection" title="Permalink to this headline">¶</a></h3>
<p>Icon</p>
<p>Template selection rules are applied only when you render a block with
the <tt class="docutils literal"><span class="pre">PageController</span></tt> (using <tt class="docutils literal"><span class="pre">ez_page:viewBlock</span></tt> from templates),
<a class="reference external" href="The-Page-FieldType_12124915.html">see below</a>.</p>
<p>Like you are able to&nbsp;<a class="reference external" href="View-provider-configuration_2720462.html">define template selection rules when displaying
Location and Content
objects</a>, you can also
define rules for blocks, with dedicated matchers.</p>
<p>Configuration is a hash built in the following way:</p>
<p><strong>ezpublish.yml</strong></p>
<p>Tip</p>
<p>Icon</p>
<p>You can define your template selection rules in a different
configuration file. <a class="reference external" href="Import-settings-from-a-bundle_12125508.html">Read the cookbook recipe to learn more about
it</a>&nbsp;.</p>
<p>Icon</p>
<p>Matchers for <tt class="docutils literal"><span class="pre">block_view</span></tt> follow the same behavior than <a class="reference external" href="View-provider-configuration_2720462.html#Viewproviderconfiguration-Matchers">matchers for
regular location_view /
content_view</a>,
except that their relative namespace will be
<tt class="docutils literal"><span class="pre">eZ\Publish\Core\MVC\Symfony\View\BlockViewProvider\Configured\Matcher</span></tt>
.</p>
<p>Hence you can combine matchers with AND and OR capabilities (<a class="reference external" href="https://confluence.ez.no/display/EZP/View+provider+configuration#Viewproviderconfiguration-Matchers">see main
matchers&#8217; documentation
page</a>).</p>
<div class="section" id="available-matchers">
<h4>Available matchers<a class="headerlink" href="#available-matchers" title="Permalink to this headline">¶</a></h4>
<p>Identifier</p>
<p>Description</p>
<p><tt class="docutils literal"><span class="pre">Type</span></tt></p>
<p>Matches the unique <strong>block identifier</strong> defined in the
legacy&nbsp;<a href="#id5"><span class="problematic" id="id6">``</span></a>block.ini``&nbsp;file (<a class="reference external" href="http://doc.ez.no/Extensions/eZ-Publish-extensions/eZ-Flow/eZ-Flow-2.5/Configuration/Configuring-the-eZ-Flow-block-system/Defining-the-eZ-Flow-blocks/Defining-block-types">see legacy
documentation</a>).</p>
<p>For example with the following configuration in legacy block.ini, it
will match against <tt class="docutils literal"><span class="pre">Manual3Items</span></tt>:</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><tt class="docutils literal"><span class="pre">View</span></tt></p>
<p>Matches the <strong>view’s unique identifier</strong> defined in the block definition
in the legacy&nbsp;<a href="#id7"><span class="problematic" id="id8">``</span></a>block.ini``&nbsp;(see legacy documentation).</p>
<p>For example with the following configuration in legacy <tt class="docutils literal"><span class="pre">block.ini</span></tt>, it
will match against <tt class="docutils literal"><span class="pre">3_items1</span></tt>:</p>
<p>Icon</p>
<p>When no view is defined, the default value is <strong>default</strong>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><tt class="docutils literal"><span class="pre">Id\Block</span></tt></p>
<p>Matches against the block ID, as stored in <tt class="docutils literal"><span class="pre">ezm_block</span></tt> table</p>
<p><tt class="docutils literal"><span class="pre">Id\Zone</span></tt></p>
<p>Matches against the zone ID a block belongs to, as stored in
<tt class="docutils literal"><span class="pre">ezm_block</span></tt> table</p>
</div>
</div>
</div>
<div class="section" id="displaying-the-page-content">
<h2>Displaying the Page content<a class="headerlink" href="#displaying-the-page-content" title="Permalink to this headline">¶</a></h2>
<p>Icon</p>
<p>This section focuses on how to display blocks from zone/layout
templates.</p>
<p>Render of these templates are triggered when using <tt class="docutils literal"><span class="pre">ez_render_field()</span></tt>
helper, like for any other field type.</p>
<p><a class="reference external" href="Content-view_8323263.html#Contentview-Contentview-UsingtheFieldType%27stemplateblock">See field rendering
documentation</a>
for more information.</p>
<p>Layout template</p>
<p>Goal of a&nbsp;<strong>layout</strong>&nbsp;template is to display&nbsp;<strong>zones</strong>&nbsp;for the given
layout, depending on your layout configuration.</p>
<p>Variable name</p>
<p>Description</p>
<p>Type</p>
<p><tt class="docutils literal"><span class="pre">zones</span></tt></p>
<p>Zone objects for this Page field</p>
<p>Array of <tt class="docutils literal"><span class="pre">eZ\Publish\Core\FieldType\Page\Parts\Zone</span></tt> objects</p>
<p><tt class="docutils literal"><span class="pre">zone_layout</span></tt></p>
<p>The layout identifier (e.g. &#8220;2ZonesLayout1&#8221;)</p>
<p><tt class="docutils literal"><span class="pre">string</span></tt></p>
<p><tt class="docutils literal"><span class="pre">pageService</span></tt></p>
<p>The PageService object (read more below).</p>
<p><tt class="docutils literal"><span class="pre">eZ\Bundle\EzPublishCoreBundle\FieldType\Page</span></tt></p>
<div class="section" id="rendering-blocks">
<h3>Rendering blocks<a class="headerlink" href="#rendering-blocks" title="Permalink to this headline">¶</a></h3>
<p>Each zone contain blocks that hold your content as block items.&nbsp;To
render blocks from a layout template, you need to do a sub-request.</p>
<p>Tip</p>
<p>Icon</p>
<p>You can use a custom controller to display a block.</p>
<p>However, if you do so, you might need to get access to the
<a class="reference external" href="The-Page-FieldType_12124915.html">PageService</a>. You can get it via
the service container with identifier
<tt class="docutils literal"><span class="pre">ezpublish.fieldType.ezpage.pageService</span></tt>.</p>
<div class="section" id="using-ez-page-viewblock">
<h4>Using&nbsp;<tt class="docutils literal"><span class="pre">ez_page:viewBlock</span></tt><a class="headerlink" href="#using-ez-page-viewblock" title="Permalink to this headline">¶</a></h4>
<p>This controller is responsible of choosing the right template for your
block,&nbsp;<a class="reference external" href="The-Page-FieldType_12124915.html">depending on the rules you
defined</a>.</p>
<p>You can use this controller from templates with the following syntax:</p>
<div class="section" id="available-arguments">
<h5>Available arguments<a class="headerlink" href="#available-arguments" title="Permalink to this headline">¶</a></h5>
<p>Name</p>
<p>Description</p>
<p>Type</p>
<p>Default value</p>
<p><tt class="docutils literal"><span class="pre">block</span></tt></p>
<p>The block object you want to render</p>
<p><tt class="docutils literal"><span class="pre">eZ\Publish\Core\FieldType\Page\Parts\Block</span></tt></p>
<p>N/A</p>
<p><tt class="docutils literal"><span class="pre">params</span></tt></p>
<p>Hash of variables you want to inject to sub-template, key being the
exposed variable name.</p>
<p>hash</p>
<p>empty</p>
<p><tt class="docutils literal"><span class="pre">cacheSettings</span></tt></p>
<p>Hash of cache settings to use by the sub-controller (useful if you use
ESI or Hinclude strategies).</p>
<p>hash (accepted keys are <tt class="docutils literal"><span class="pre">max-age</span></tt> and <tt class="docutils literal"><span class="pre">smax-age</span></tt>)</p>
<p>empty</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Legacy BC</p>
<p>Icon</p>
<p>If no template selection rule is matched, the system will fallback to
the legacy kernel and will use rules you might have defined in legacy.
The result will be <cite>the same as when using legacy ``block_view_gui`</cite>
function &lt;<a class="reference external" href="http://doc.ez.no/Extensions/eZ-Publish-extensions/eZ-Flow/eZ-Flow-2.5/Configuration/Configuring-the-eZ-Flow-block-system/Defining-the-eZ-Flow-blocks/Defining-block-types#eztoc134744_0_2">http://doc.ez.no/Extensions/eZ-Publish-extensions/eZ-Flow/eZ-Flow-2.5/Configuration/Configuring-the-eZ-Flow-block-system/Defining-the-eZ-Flow-blocks/Defining-block-types#eztoc134744_0_2</a>&gt;`__.</p>
<p>However, additional variables (from the <tt class="docutils literal"><span class="pre">params</span></tt> argument) won&#8217;t be
passed to the resulted template.</p>
</div>
<div class="section" id="variables-exposed-to-the-block-template">
<h5>Variables exposed to the block template<a class="headerlink" href="#variables-exposed-to-the-block-template" title="Permalink to this headline">¶</a></h5>
<p>Variable name</p>
<p>Type</p>
<p>Description</p>
<p><tt class="docutils literal"><span class="pre">block</span></tt></p>
<p><tt class="docutils literal"><span class="pre">eZ\Publish\Core\FieldType\Page\Parts\Block</span></tt></p>
<p>The block to display</p>
<p><tt class="docutils literal"><span class="pre">valid_items</span></tt></p>
<p>Array of <tt class="docutils literal"><span class="pre">eZ\Publish\Core\FieldType\Page\Parts</span></tt></p>
<p>Displayable block items</p>
<p><tt class="docutils literal"><span class="pre">valid_contentinfo_items</span></tt></p>
<p>Array of <tt class="docutils literal"><span class="pre">eZ\Publish\API\Repository\Values\Content\ContentInfo</span></tt></p>
<p>Displayable block items, as <tt class="docutils literal"><span class="pre">ContentInfo</span></tt> objects.</p>
<p><tt class="docutils literal"><span class="pre">pageService</span></tt> (deprecated as of v5.2)</p>
<p><tt class="docutils literal"><span class="pre">eZ\Bundle\EzPublishCoreBundle\FieldType\Page\PageService</span></tt></p>
<p><a class="reference external" href="The-Page-FieldType_12124915.html">The PageService object</a>
(deprecated)</p>
<p>And of course, all the additional variables&nbsp;<cite>you injected in
the&nbsp;``params`</cite>&nbsp;argument&nbsp; &lt;The-Page-FieldType_12124915.html&gt;`__.</p>
<p>Icon</p>
<p><tt class="docutils literal"><span class="pre">valid_items</span></tt> and <tt class="docutils literal"><span class="pre">valid_contentinfo_items</span></tt> variables are available
as of <strong>v5.2 / 2013.11</strong>.</p>
<p>Usage of <tt class="docutils literal"><span class="pre">pageService</span></tt> is deprecated as of <strong>v5.2 / 2013.11</strong> and will
be removed in v6.0.</p>
</div>
</div>
<div class="section" id="rendering-block-items">
<h4>Rendering Block items<a class="headerlink" href="#rendering-block-items" title="Permalink to this headline">¶</a></h4>
<p>As said above,&nbsp;<strong>a block holds your displayable content as block
items</strong>&nbsp;which consists
of&nbsp;<a href="#id9"><span class="problematic" id="id10">``</span></a>eZPublishCoreFieldTypePagePartsItem``&nbsp;objects. Among&nbsp;<a class="reference external" href="https://github.com/ezsystems/ezpublish-kernel/blob/master/eZ/Publish/Core/FieldType/Page/Parts/Item.php">the
available
properties</a>,
you will find&nbsp;<a href="#id11"><span class="problematic" id="id12">``</span></a>contentId``&nbsp;and&nbsp;<a href="#id13"><span class="problematic" id="id14">``</span></a>locationId``&nbsp;which reference the
content/location you want to display. All you have to do then is
to&nbsp;<strong>render it
view&nbsp;``ez_content:viewLocation``&nbsp;or&nbsp;``ez_content:viewContent``</strong>&nbsp;(<a class="reference external" href="The-Page-FieldType_12124915.html">see
full example below</a>).</p>
</div>
</div>
<div class="section" id="the-pageservice-object">
<h3>The PageService object<a class="headerlink" href="#the-pageservice-object" title="Permalink to this headline">¶</a></h3>
<p>The PageService object
(<tt class="docutils literal"><span class="pre">eZ\Bundle\EzPublishCoreBundle\FieldType\Page\PageService</span></tt>) is a
helper giving the possibility to get current zone/block definitions and
to retrieve block items.</p>
<div class="section" id="main-methods">
<h4>Main methods<a class="headerlink" href="#main-methods" title="Permalink to this headline">¶</a></h4>
<p>Method name</p>
<p>Description</p>
<p>Return type</p>
<p><tt class="docutils literal"><span class="pre">getZoneDefinition()</span></tt></p>
<p>Returns zone definition (all defined zones for the current siteaccess)
as an array</p>
<p><tt class="docutils literal"><span class="pre">array</span></tt></p>
<p><tt class="docutils literal"><span class="pre">getZoneDefinitionByLayout()</span></tt></p>
<p>Returns a zone definition for a given layout. It consists of a
configuration array for the given layout.</p>
<p><tt class="docutils literal"><span class="pre">array</span></tt></p>
<p><tt class="docutils literal"><span class="pre">getBlockDefinition()</span></tt></p>
<p>Returns block definition as an array</p>
<p><tt class="docutils literal"><span class="pre">array</span></tt></p>
<p><tt class="docutils literal"><span class="pre">getBlockDefinitionByIdentifier()</span></tt></p>
<p>Returns a block definition for a given block identifier.</p>
<p><tt class="docutils literal"><span class="pre">array</span></tt></p>
<p><tt class="docutils literal"><span class="pre">getValidBlockItems()</span></tt></p>
<p>Returns valid items (that are to be displayed), for a given block.</p>
<p><tt class="docutils literal"><span class="pre">eZ\Publish\Core\FieldType\Page\Parts\Item[]</span></tt></p>
<p><tt class="docutils literal"><span class="pre">getLastValidBlockItem()</span></tt></p>
<p>Returns the last valid item, for a given block.</p>
<p><tt class="docutils literal"><span class="pre">eZ\Publish\Core\FieldType\Page\Parts\Item|null</span></tt></p>
<p><tt class="docutils literal"><span class="pre">getWaitingBlockItems()</span></tt></p>
<p>Returns queued items (the next to be displayed), for a given block.</p>
<p><tt class="docutils literal"><span class="pre">eZ\Publish\Core\FieldType\Page\Parts\Item[]</span></tt></p>
<p><tt class="docutils literal"><span class="pre">getArchivedBlockItems()</span></tt></p>
<p>Returns archived items (that were previously displayed), for a given
block.</p>
<p><tt class="docutils literal"><span class="pre">eZ\Publish\Core\FieldType\Page\Parts\Item[]</span></tt></p>
<p><tt class="docutils literal"><span class="pre">getValidBlockItemsAsContentInfo()</span></tt></p>
<p>Returns valid block items as content objects</p>
<p><a href="#id15"><span class="problematic" id="id16">``</span></a>eZPublishAPIRepositoryValuesContentContentInfo[] ``</p>
</div>
</div>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<p><strong>2zoneslayout1.html.twig</strong></p>
<p><strong>campaign_block.html.twig</strong></p>
</div>
</div>
<div class="section" id="comments">
<h2>Comments:<a class="headerlink" href="#comments" title="Permalink to this headline">¶</a></h2>
<p>I have a question about configuration part. when you define layout
template in yaml file like</p>
<p><em>``template: ````&#8221;AcmeDemoBundle:page/zonelayouts/my_template.html.twig&#8221;``</em></p>
<p>Do i suppose that i need to create that file under Resource/views in my
bundle? Or do i need something more?</p>
<p>Thanks!.</p>
<p><img alt="image0" src="docs/images/icons/contenttypes/comment_16.png" /> Posted by desorden at May 07, 2013 07:01</p>
<p>Carlos: Yes (updated the doc). Your comment also pointed out that the
template identifier was wrong. You must use:</p>
<p><img alt="image1" src="docs/images/icons/contenttypes/comment_16.png" /> Posted by <a class="reference external" href="mailto:jerome&#46;vieilledent&#37;&#52;&#48;ez&#46;no">jerome<span>&#46;</span>vieilledent<span>&#64;</span>ez<span>&#46;</span>no</a> at May 07, 2013 07:49</p>
<p>Thanks Jerome. Now i know what it wasn&#8217;t working for me last
night&nbsp;<img alt="(smile)" src="docs/images/icons/emoticons/smile.png" /></p>
<p><img alt="image3" src="docs/images/icons/contenttypes/comment_16.png" /> Posted by desorden at May 07, 2013 07:50</p>
<p>Two things about the provided samples:</p>
<p>In the zone definition sample, i think there&#8217;s &#8220;wrong order&#8221;. It says</p>
<p><tt class="docutils literal"><span class="pre">ezpublish:</span></tt></p>
<p><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;&nbsp;</span></tt><tt class="docutils literal"><span class="pre">system:</span></tt></p>
<p><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></tt><tt class="docutils literal"><span class="pre">my_siteaccess:</span></tt></p>
<p><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></tt><tt class="docutils literal"><span class="pre">layouts:</span></tt></p>
<p><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></tt><tt class="docutils literal"><span class="pre">ezpage:</span></tt></p>
<p>where it should say (i think )</p>
<p><tt class="docutils literal"><span class="pre">ezpublish:</span></tt></p>
<p><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;&nbsp;</span></tt><tt class="docutils literal"><span class="pre">system:</span></tt></p>
<p><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></tt><tt class="docutils literal"><span class="pre">my_siteaccess:</span></tt></p>
<p><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="pre">ezpage</span></tt><tt class="docutils literal"><span class="pre">:</span></tt></p>
<p><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="pre">layouts</span></tt><tt class="docutils literal"><span class="pre">:</span></tt></p>
<p>And about defining the zone with a legacy template,</p>
<p><tt class="docutils literal"><span class="pre">ezpublish:</span></tt></p>
<p><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;&nbsp;</span></tt><tt class="docutils literal"><span class="pre">system:</span></tt></p>
<p><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></tt><tt class="docutils literal"><span class="pre">my_siteaccess:</span></tt></p>
<p><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></tt><tt class="docutils literal"><span class="pre">ezpage:</span></tt></p>
<p><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></tt><tt class="docutils literal"><span class="pre">myLegacyLayout:</span></tt></p>
<p>don&#8217;t wee need to add &#8220;layouts&#8221; between ezpage: and myLegacyLayout?</p>
<p>Thanks</p>
<p><img alt="image4" src="docs/images/icons/contenttypes/comment_16.png" /> Posted by desorden at May 08, 2013 20:45</p>
<p>You&#8217;re right Carlos, fixing.</p>
<p><img alt="image5" src="docs/images/icons/contenttypes/comment_16.png" /> Posted by <a class="reference external" href="mailto:jerome&#46;vieilledent&#37;&#52;&#48;ez&#46;no">jerome<span>&#46;</span>vieilledent<span>&#64;</span>ez<span>&#46;</span>no</a> at May 08, 2013 20:52</p>
<p>The warning at the top of the page says that bock and zone definition is
still needed for the backoffice to work. But it seems that if there is
no list of enabled layouts in the eZ5 configuration, an exception is
thrown (or if a content with a Page field which uses a layout which is
not defined as enabled in ez5 configuration).</p>
<p>Should this be filed as bug? (the best thing to do would be imho to
avoid as much as possible to have to do double-configuration, as long as
the ez-4 part is still mandatory)</p>
<p><img alt="image6" src="docs/images/icons/contenttypes/comment_16.png" /> Posted by <a class="reference external" href="mailto:gaetano&#46;giunta&#37;&#52;&#48;ez&#46;no">gaetano<span>&#46;</span>giunta<span>&#64;</span>ez<span>&#46;</span>no</a> at Jan 24, 2014 14:20</p>
<p>Document generated by Confluence on Feb 12, 2014 16:43</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">eZ Publish Platform 5.&lt;next&gt; : The Page FieldType</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a><ul>
<li><a class="reference internal" href="#defining-a-zone-layout">Defining a zone layout</a></li>
<li><a class="reference internal" href="#available-blocks">Available blocks</a></li>
<li><a class="reference internal" href="#block-template-selection">Block template selection</a><ul>
<li><a class="reference internal" href="#available-matchers">Available matchers</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#displaying-the-page-content">Displaying the Page content</a><ul>
<li><a class="reference internal" href="#rendering-blocks">Rendering blocks</a><ul>
<li><a class="reference internal" href="#using-ez-page-viewblock">Using&nbsp;<tt class="docutils literal"><span class="pre">ez_page:viewBlock</span></tt></a><ul>
<li><a class="reference internal" href="#available-arguments">Available arguments</a></li>
<li><a class="reference internal" href="#variables-exposed-to-the-block-template">Variables exposed to the block template</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rendering-block-items">Rendering Block items</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-pageservice-object">The PageService object</a><ul>
<li><a class="reference internal" href="#main-methods">Main methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#comments">Comments:</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/docs/The-Page-FieldType_12124915.html.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Doc eZ Publish 2014 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, eZ Systems.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>