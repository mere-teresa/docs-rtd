#. `eZ Publish Platform 5.<next> <index.html>`__
#. `eZ Publish Platform
   Documentation <eZ-Publish-Platform-Documentation_1114149.html>`__
#. `Development & Administration Guides <6291674.html>`__
#. `Reference <Reference_10158191.html>`__
#. `FieldTypes <FieldTypes_10158198.html>`__

eZ Publish Platform 5.<next> : The Relation FieldType
=====================================================

Added by ricardo.correia@ez.no , edited by ricardo.correia@ez.no on Nov
07, 2013

Relation
~~~~~~~~

This field type represents a relation to a content.

| 

Name

Internal name

Expected input

``Relation``

``ezobjectrelation``

``mixed``

| 

Description
^^^^^^^^^^^

This FieldType makes possible to store and retrieve the value of
relation to a content.

| 

Input expectations
^^^^^^^^^^^^^^^^^^

Type

Example

``string``

::

    $contentInfo->id

``integer``

 150

| 

Validation
^^^^^^^^^^

This FieldType validates if the ``selectionMethod`` specified is 0
(``self::SELECTION_BROWSE)`` or 1 (``self::SELECTION_DROPDOWN)``. A
validation error is thrown if the value does not match.

Also validates if the ``selectionRoot`` specified is ``null``,
``string`` or ``integer``. If the type validation fails a validation
error is thrown.

 

Settings
^^^^^^^^

The field definition of this FieldType can be configured with two
options:

Name

Type

Default value

Description

``selectionMethod``

``int``

``self::SELECTION_BROWSE``

This setting defines the selection method. It expects an integer (0/1).
0 stands for ``self::SELECTION_BROWSE``, 1 stands for
``self::SELECTION_DROPDOWN``.

``selectionRoot``

``string``

``null``

This setting defines the selection root.

**Relation FieldType example settings**

.. code:: theme:

    use eZ\Publish\Core\FieldType\Relation\Type;

    $settings = array(
        "selectionMethod" => 1,
        "selectionRoot" => null
    );

| 

Value object
^^^^^^^^^^^^

Properties
          

The Value class of this field type contains the following properties:

Property

Type

Description

``$destinationContentId``

``mixed|null``

This property will be used to store the value provided, which will
represent the related content.

**Value object content example**

.. code:: theme:

    $relation->destinationContentId = $contentInfo->id;

 

Constructor
           

The ``Relation``\ ``\Value`` constructor will initialize a new Value
object with the value provided. It expects a mixed value

**Constructor example**

.. code:: theme:

    // Instantiates a Relation Value object
    $relationValue = new Relation\Value( $contentInfo->id );

 

| 

Document generated by Confluence on Feb 12, 2014 16:43
