#. `eZ Publish Platform 5.<next> <index.html>`__
#. `eZ Publish Platform
   Documentation <eZ-Publish-Platform-Documentation_1114149.html>`__
#. `Development & Administration Guides <6291674.html>`__
#. `Developing with eZ Publish
   5 <Developing-with-eZ-Publish-5_2720528.html>`__
#. `Extending eZ Publish 5 <Extending-eZ-Publish-5_1736733.html>`__

eZ Publish Platform 5.<next> : Parameters injection in content views
====================================================================

Added by jerome.vieilledent@ez.no , edited by jerome.vieilledent@ez.no
on Feb 10, 2014

It is possible to dynamically inject variables in content view templates
by listening to the \ ``ezpublish.pre_content_view`` event.

The event listener method receives
an\ `` eZ\Publish\Core\MVC\Symfony\Event\PreContentViewEvent ``\ object

Example
~~~~~~~

The following example will inject ``foo`` and ``osTypes`` variables in
all content view templates.

.. code:: theme:

    <?php

    namespace Acme\DemoBundle\EventListener;
    use eZ\Publish\Core\MVC\Symfony\Event\PreContentViewEvent;

    class PreContentViewListener
    {
        public function onPreContentView( PreContentViewEvent $event )
        {
            // Get content view object and inject whatever no need.
            // You may add some custom business logic here.
            $contentView = $event->getContentView();
            $contentView->addParameters(
                array(
                     'foo'          => 'bar',
                     'osTypes'      => array( 'osx', 'linux', 'win' )
                )
            );
        }
    }

**Service configuration**

.. code:: theme:

    parameters:
        ezdemo.pre_content_view_listener.class: Acme\DemoBundle\EventListener\PreContentViewListener

    services:
        ezdemo.pre_content_view_listener:
            class: %ezdemo.pre_content_view_listener.class%
            tags:
                - {name: kernel.event_listener, event: ezpublish.pre_content_view, method: onPreContentView}

 

 

Document generated by Confluence on Feb 12, 2014 16:43
