#. `eZ Publish Platform 5.<next> <index.html>`__
#. `eZ Publish Platform
   Documentation <eZ-Publish-Platform-Documentation_1114149.html>`__
#. `Development & Administration Guides <6291674.html>`__
#. `Features <Features_12781009.html>`__

eZ Publish Platform 5.<next> : Multisite using content\_root
============================================================

Added by bertrand.dunogier@ez.no , edited by ricardo.correia@ez.no on
Jun 05, 2013

Since eZ Publish 5.1, it is possible to serve multiple, completely
different sites using one eZ Publish instance and database.

Each site will have its own content root, at a lower level than the
default one (location number 2). One backoffice can be used for each
site, but it is also possible to use a global one.

Icon

This feature is a reimplementation of the
`PathPrefix <http://doc.ez.no/eZ-Publish/Technical-manual/4.x/Reference/Configuration-files/site.ini/SiteAccessSettings/PathPrefix>`__
one that existed in eZ Publish Legacy.

Configuration
-------------

The feature is configured in ``ezpublish.yml``, either at siteaccess or
siteaccess group level:

.. code:: theme:

    ezpublish:
        system:
            ezdemo_site_group:
                content:
                    tree_root:
                        # Root locationId. Default is top locationId
                        location_id: 123
                        # Every URL aliases starting with those prefixes will be considered 
                        # being outside of the subtree starting at root_location.
                        # Default value is an empty array.
                        # Prefixes are not case sensitive.
                        excluded_uri_prefixes: [ /media, /images ]

``content.tree_root.location_id``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

This parameter sets the location id of the content root. The API is
jailed within this root, and nothing above this level will be accessible
by default. This parameter can be filtered using the
``excluded_uri_prefixes`` parameter described below

``content.tree_root.excluded_uri_prefixes``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Use this parameter to exclude a list of URI from the root jail defined
using ``location_id`` described above. Add as many locations pathString
as you like. In the example above, the Media and Images folders will be
accessible using their own URI even though they're not below
``tree_root.location_id``.

Icon

Note: Leading slashes (``/``) are automatically trimmed internally by eZ
Publish, so they can be ignored.

Comments:
---------

Same comment as \ `Re: 2. Browsing, finding,
viewing <https://confluence.ez.no/display/EZP/2.+Browsing%2C+finding%2C+viewing?focusedCommentId=16285925#comment-16285925>`__

|image0| Posted by philippe.vincent-royol@ez.no at Aug 20, 2013 08:30

Document generated by Confluence on Feb 12, 2014 16:43

.. |image0| image:: images/icons/contenttypes/comment_16.png
